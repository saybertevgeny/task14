<div class="album py-5 bg-light">
  <div class="container" >
    <form [formGroup]="form" (ngSubmit)="submit()" *ngIf="!loading; else loadingBlock">
      <input type="hidden" formControlName="id">
      <div class="form-group">
        <label>Тема</label>
        <input type="text" class="form-control" placeholder="Введите тему" formControlName="theme">
        <div *ngIf="form.get('theme').invalid && form.get('theme').touched" class="validation">
          <small *ngIf="form.get('theme').errors.required">Поле тема не может быть пустым</small>
        </div>
      </div>
      <div class="form-group">
        <label>Текст</label>
        <textarea class="form-control" placeholder="Enter text" rows="3" formControlName="text"></textarea>
        <div *ngIf="form.get('text').invalid && form.get('text').touched" class="validation">
          <small *ngIf="form.get('text').errors.required">Поле текст не может быть пустым</small>
        </div>
      </div>
      <div class="form-group">
        <label>Дедлайн</label>
        <input type="date" class="form-control" placeholder="Enter theme" formControlName="deadline">
        <div *ngIf="form.get('deadline').invalid && form.get('deadline').touched" class="validation">
          <small *ngIf="form.get('deadline').errors.required">Поле дедлайн не может быть пустым</small>
        </div>
      </div>
      <div class="form-group">
        <label>Срочность</label>
        <select class="form-control" formControlName="priority">
          <option value="LOW">низкая</option>
          <option value="MIDDLE">средняя</option>
          <option value="HIGH">высокая</option>
        </select>
        <div *ngIf="form.get('priority').invalid && form.get('priority').touched" class="validation">
          <small *ngIf="form.get('priority').errors.required">Поле приоритета не может быть пустым</small>
        </div>
      </div>
      <div class="form-group">
        <button class="btn btn-primary mb-2" type="submit">Отправить</button>
      </div>
    </form>
    <ng-template #loadingBlock>
      Загрузка...
    </ng-template>
  </div>
</div>
